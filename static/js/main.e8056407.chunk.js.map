{"version":3,"sources":["components/Header/Header.js","components/Header/HeaderContainer.js","components/friends/friend/index.js","components/friends/friend/friend.js","components/friends/index.js","components/friends/friends.js","components/Navbar/Navbar.js","components/Navbar/NavbarContainer.js","redux/app-reducer.js","hoc/withSuspend.js","App.js","redux/friends-reducer.js","redux/redux-store.js","index.js","redux/auth-reducer.js","components/Spinner/spinner.js","components/Spinner/index.js","components/Header/Header.module.scss","components/friends/friend/friend.module.scss","components/Navbar/Navbar.module.scss","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/users-reducer.js","api/social-network-API.js","components/friends/friends.module.scss"],"names":["Header","props","className","classes","header","container","to","headerBrand","src","alt","isAuth","login","onClick","logOut","style","marginLeft","color","cursor","HeaderContainer","this","Component","connect","state","auth","Friend","friend","status","onlineDot","online","offlineDot","id","photo","join","Friends","friends","map","key","Navbar","nav","item","activeClassName","active","friendsBlock","NavbarContainer","initialState","initialized","appReducer","action","type","withSuspense","Suspense","fallback","Spinner","DialogsContainer","React","lazy","ProfileContainer","UsersContainer","News","Music","Settings","LoginContainer","App","initializing","path","render","compose","withRouter","app","dispatch","authMe","Promise","all","then","name","friendsReducer","reducers","combineReducers","dialogsPage","dialogsReducer","profilePage","profileReducer","usersPage","usersReducer","authReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","__store__","ReactDOM","basename","process","document","getElementById","userId","email","captcha","setAuthMeData","payload","setCaptcha","a","usersAPI","data","resultCode","password","rememberMe","authAPI","securityAPI","getCaptcha","url","message","messages","length","stopSubmit","_error","width","height","module","exports","ADD_POST","posts","img","likeCount","profile","editMode","isLoading","addPost","post","setIsLoading","setStatus","setEditMode","getProfile","getStatus","setNewStatus","text","updateStatus","uploadPhoto","photos","searchRegEx","pattern","exec","split","updateProfileInfo","getState","updateProfile","error","errorMessage","errorArr","errorField","toLowerCase","res","contacts","console","log","reject","newPost","newTextPost","filter","p","postId","dialogs","addMessage","newMessage","FOLLOW","users","portion","totalCount","pageSize","currentPage","isFetching","followingInProgress","follow","unfollow","setUsers","setTotalCountPages","pages","setCurrentPage","page","setPortion","toggleFollowingProgress","requestUsers","getUsers","items","followUser","unfollowUser","user","followed","instance","axios","baseURL","withCredentials","headers","get","delete","formData","FormData","append","put"],"mappings":"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","file":"static/js/main.e8056407.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport classes from './Header.module.scss';\r\n\r\nconst Header = props => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <div className={classes.container}>\r\n        <NavLink to=\"/profile\" className={classes.headerBrand}>\r\n          <img\r\n            src=\"http://mythemestore.com/friend-finder/images/logo.png\"\r\n            alt=\"logo\"\r\n          />\r\n        </NavLink>\r\n        {props.isAuth ? (\r\n          <span>\r\n            {props.login}\r\n            <span\r\n              onClick={props.logOut}\r\n              style={{\r\n                marginLeft: '10px',\r\n                color: 'white',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              LogOut\r\n            </span>\r\n          </span>\r\n        ) : (\r\n          <NavLink to=\"/login\">Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logOut } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { login: state.auth.login, isAuth: state.auth.isAuth };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { logOut }\r\n)(HeaderContainer);\r\n","import Friend from './friend';\r\n\r\nexport default Friend;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport classes from './friend.module.scss';\r\n\r\nconst Friend = ({friend}) => {\r\n\r\n  let status = [classes.onlineDot];\r\n\r\n  if (!friend.online) {\r\n    status = [\r\n      ...status,\r\n      classes.offlineDot\r\n    ];\r\n  }\r\n\r\n  return (\r\n    <li>\r\n      <NavLink to={\"/user/\" + friend.id}>\r\n        <img src={friend.photo} alt=\"\"/>\r\n        <span className={status.join(\" \")}></span>\r\n      </NavLink>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Friend","import Friends from './friends';\r\n\r\nexport default Friends;","import React from 'react';\r\n\r\nimport Friend from './friend';\r\nimport classes from './friends.module.scss';\r\n\r\nconst Friends = ({friends}) => {\r\n  return (\r\n    <ul className={classes.friends}>\r\n      {friends.map((friend) => <Friend friend={friend} key={friend.id}/>)}\r\n    </ul>\r\n  );\r\n}\r\nexport default Friends;","import React from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport classes from './Navbar.module.scss';\r\nimport Friends from '../friends';\r\n\r\nconst Navbar = props => {\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/profile\" activeClassName={classes.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/users\" activeClassName={classes.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/news\" activeClassName={classes.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/music\" activeClassName={classes.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/settings\" activeClassName={classes.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/login\" activeClassName={classes.active}>\r\n          Login\r\n        </NavLink>\r\n      </div>\r\n      <Friends friends={props.friendsBlock} />\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import Navbar from './Navbar';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = state => {\r\n  return { friendsBlock: state.friendsBlock };\r\n};\r\n\r\nconst NavbarContainer = connect(mapStateToProps)(Navbar);\r\n\r\nexport default NavbarContainer;\r\n","import { authMe } from './auth-reducer';\r\n\r\nconst INITIAL_SUCCESS = '/app/INITIAL_SUCCESS';\r\n\r\nconst initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIAL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialSuccess = () => ({ type: INITIAL_SUCCESS });\r\n\r\nexport const initializing = () => {\r\n  return dispatch => {\r\n    const auth = dispatch(authMe());\r\n    Promise.all([auth]).then(() => {\r\n      dispatch(initialSuccess());\r\n    });\r\n  };\r\n};\r\n\r\nexport default appReducer;\r\n","import React from 'react';\r\nimport Spinner from '../components/Spinner';\r\n\r\nexport const withSuspense = Component => {\r\n  return props => {\r\n    return (\r\n      <React.Suspense fallback={<Spinner />}>\r\n        <Component {...props} />\r\n      </React.Suspense>\r\n    );\r\n  };\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { initializing } from './redux/app-reducer';\r\nimport Spinner from './components/Spinner';\r\nimport { withSuspense } from './hoc/withSuspend';\r\n\r\nconst DialogsContainer = React.lazy(() =>\r\n  import('./components/Dialogs/DialogsContainer')\r\n);\r\n\r\nconst ProfileContainer = React.lazy(() =>\r\n  import('./components/Profile/ProfileContainer')\r\n);\r\n\r\nconst UsersContainer = React.lazy(() =>\r\n  import('./components/Users/usersContainer')\r\n);\r\n\r\nconst News = React.lazy(() => import('./components/News'));\r\n\r\nconst Music = React.lazy(() => import('./components/Music'));\r\n\r\nconst Settings = React.lazy(() => import('./components/Settings'));\r\n\r\nconst LoginContainer = React.lazy(() =>\r\n  import('./components/Login/LoginContainer')\r\n);\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializing();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Spinner />;\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper container\">\r\n        <HeaderContainer />\r\n        <NavbarContainer />\r\n        <div className=\"app-wrapper-content container-fluid\">\r\n          <Route\r\n            path=\"/profile/:userId?\"\r\n            render={withSuspense(ProfileContainer)}\r\n          />\r\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n          <Route path=\"/users\" render={withSuspense(UsersContainer)} />\r\n          <Route path=\"/news\" render={withSuspense(News)} />\r\n          <Route path=\"/music\" render={withSuspense(Music)} />\r\n          <Route path=\"/settings\" render={withSuspense(Settings)} />\r\n          <Route path=\"/login\" render={withSuspense(LoginContainer)} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { initialized: state.app.initialized };\r\n};\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(\r\n    mapStateToProps,\r\n    { initializing }\r\n  )\r\n)(App);\r\n","const initialState = [\r\n  {\r\n    id: '1',\r\n    name: 'Igor',\r\n    photo: 'http://mythemestore.com/friend-finder/images/users/user-4.jpg',\r\n    online: true\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'Olga',\r\n    photo: 'http://mythemestore.com/friend-finder/images/users/user-2.jpg',\r\n    online: true\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Maksym',\r\n    photo: 'http://mythemestore.com/friend-finder/images/users/user-8.jpg',\r\n    online: false\r\n  }\r\n];\r\nconst friendsReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default friendsReducer;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\n\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport profileReducer from './profile-reducer';\r\nimport friendsReducer from './friends-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunk from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nexport const reducers = combineReducers({\r\n  dialogsPage: dialogsReducer,\r\n  profilePage: profileReducer,\r\n  friendsBlock: friendsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './redux/redux-store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n","import { usersAPI, authAPI, securityAPI } from '../api/social-network-API';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_AUTH_DATA = '/auth/SET_AUTH_DATA-POST';\r\nconst SET_CAPTCHA = '/auth/SET_CAPTCHA';\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captcha: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_DATA:\r\n    case SET_CAPTCHA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst setAuthMeData = (userId, email, login, isAuth) => ({\r\n  type: SET_AUTH_DATA,\r\n  payload: {\r\n    userId,\r\n    email,\r\n    login,\r\n    isAuth\r\n  }\r\n});\r\n\r\nconst setCaptcha = captcha => ({\r\n  type: SET_CAPTCHA,\r\n  payload: {\r\n    captcha\r\n  }\r\n});\r\n\r\nexport const authMe = () => {\r\n  return async dispatch => {\r\n    const data = await usersAPI.authMe();\r\n    if (data.resultCode === 0) {\r\n      const { id, email, login } = data.data;\r\n      dispatch(setAuthMeData(id, email, login, true));\r\n    }\r\n  };\r\n};\r\n\r\nexport const getCaptcha = () => {\r\n  return async dispatch => {\r\n    const captcha = await securityAPI.getCaptcha();\r\n    dispatch(setCaptcha(captcha.url));\r\n  };\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n  return async dispatch => {\r\n    const data = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (data.resultCode === 0) {\r\n      dispatch(authMe());\r\n    } else {\r\n      if (data.resultCode === 10) {\r\n        dispatch(getCaptcha());\r\n      }\r\n      const message =\r\n        data.messages.length > 0 ? data.messages[0] : 'Unknown error';\r\n      dispatch(stopSubmit('loginForm', { _error: message }));\r\n    }\r\n  };\r\n};\r\n\r\nexport const logOut = () => {\r\n  return async dispatch => {\r\n    const data = await authAPI.logOut();\r\n    if (data.resultCode === 0) {\r\n      dispatch(setAuthMeData(null, null, null, false));\r\n    }\r\n  };\r\n};\r\nexport default authReducer;\r\n","import React from 'react';\r\n\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css ng-scope\">\r\n      <div\r\n        className=\"lds-spinner\"\r\n        style={{\r\n          width: '100%',\r\n          height: '100%'\r\n        }}\r\n      >\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import Spinner from './spinner';\r\n\r\nexport default Spinner;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Lv7V\",\"container\":\"Header_container__11TgH\",\"headerBrand\":\"Header_headerBrand__3Klvr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"onlineDot\":\"friend_onlineDot__2xUat\",\"offlineDot\":\"friend_offlineDot__1vg4k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__i3JRn\",\"item\":\"Navbar_item__2eG2p\",\"active\":\"Navbar_active__3Zh_2\"};","import { usersAPI } from '../api/social-network-API';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst ADD_POST = '/profile/ADD-POST';\r\nconst SET_PROFILE = '/profile/SET_PROFILE';\r\nconst SET_STATUS = '/profile/SET_STATUS';\r\nconst DELETE_POST = '/profile/DELETE_POST';\r\nconst SET_EDIT_MODE = '/profile/SET_EDIT_MODE';\r\nconst UPLOAD_PHOTO_SUCCESS = '/profile/UPLOAD_PHOTO_SUCCESS';\r\nconst IS_LOADING = '/profile/IS_LOADING';\r\n\r\nconst initialState = {\r\n  posts: [\r\n    {\r\n      id: '1',\r\n      img: 'https://i.ytimg.com/vi/aEvItEpMly8/maxresdefault.jpg',\r\n      message: 'Hi, how are you?',\r\n      likeCount: '5'\r\n    },\r\n    {\r\n      id: '12',\r\n      img: 'https://i.ytimg.com/vi/aEvItEpMly8/maxresdefault.jpg',\r\n      message: \"It's my first post\",\r\n      likeCount: '1'\r\n    }\r\n  ],\r\n  profile: null,\r\n  status: null,\r\n  editMode: false,\r\n  isLoading: true\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      const newPost = {\r\n        id: 5,\r\n        img: action.img,\r\n        message: action.post,\r\n        likeCount: 0\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [newPost, ...state.posts],\r\n        newTextPost: ''\r\n      };\r\n\r\n    case SET_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      };\r\n\r\n    case IS_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: action.isLoading\r\n      }\r\n\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId)\r\n      };\r\n\r\n    case SET_EDIT_MODE:\r\n      return {\r\n        ...state,\r\n        editMode: !state.editMode\r\n      };\r\n\r\n    case UPLOAD_PHOTO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: {\r\n          ...state.profile,\r\n          photos: action.photos\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPost = (post, img) => ({ type: ADD_POST, post, img });\r\n\r\nexport const deletePost = postId => ({ type: DELETE_POST, postId });\r\n\r\nexport const setProfile = profile => ({ type: SET_PROFILE, profile });\r\n\r\nexport const setIsLoading = isLoading => ({ type: IS_LOADING, isLoading });\r\n\r\nconst setStatus = status => ({ type: SET_STATUS, status });\r\n\r\nconst uploadPhotoSuccess = photos => ({ type: UPLOAD_PHOTO_SUCCESS, photos });\r\n\r\nexport const setEditMode = () => ({ type: SET_EDIT_MODE });\r\n\r\nexport const getProfile = id => {\r\n  return async dispatch => {\r\n    dispatch(setIsLoading(true));\r\n    const data = await usersAPI.getProfile(id);\r\n    dispatch(setProfile(data.data));\r\n    dispatch(setIsLoading(false));\r\n  };\r\n};\r\n\r\nexport const getStatus = id => {\r\n  return async dispatch => {\r\n    const data = await usersAPI.getStatus(id);\r\n    dispatch(setStatus(data));\r\n  };\r\n};\r\n\r\nexport const setNewStatus = text => {\r\n  return async dispatch => {\r\n    const data = await usersAPI.updateStatus(text);\r\n    if (data.resultCode === 0) {\r\n      dispatch(setStatus(text));\r\n    }\r\n  };\r\n};\r\n\r\nexport const uploadPhoto = photo => {\r\n  return async dispatch => {\r\n    const data = await usersAPI.uploadPhoto(photo);\r\n    if (data.resultCode === 0) {\r\n      dispatch(uploadPhotoSuccess(data.data.photos));\r\n    }\r\n  };\r\n};\r\n\r\nconst searchRegEx = (text, pattern) => {\r\n  const result = pattern.exec(text)[0].split('->');\r\n  return result;\r\n};\r\n\r\nexport const updateProfileInfo = profile => {\r\n  return async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const data = await usersAPI.updateProfile(profile);\r\n    if (data.resultCode === 0) {\r\n      dispatch(getProfile(userId));\r\n      dispatch(setEditMode());\r\n    } else {\r\n      const error = data.messages[0];\r\n      const errorMessage = error.split('(')[0];\r\n      const pattern = /(Contacts->\\w+)/g;\r\n      const errorArr = searchRegEx(error, pattern);\r\n      if (errorArr[0] === 'Contacts') {\r\n        const errorField = errorArr[1].toLowerCase();\r\n        const res = {};\r\n        res.contacts = {};\r\n        res.contacts[errorField] = error;\r\n        console.log(res);\r\n        dispatch(\r\n          stopSubmit('profileForm', {\r\n            contacts: {\r\n              [errorField]: errorMessage\r\n            }\r\n          })\r\n        );\r\n      }\r\n      //dispatch(stopSubmit('profileForm', { _error: error }));\r\n    }\r\n    return Promise.reject(data.messages[0]);\r\n  };\r\n};\r\n\r\nexport default profileReducer;\r\n","const ADD_MESSAGE = '/dialogs/ADD-MESSAGE';\r\n\r\nconst initialState = {\r\n  messages: [\r\n    {\r\n      id: '1',\r\n      message: 'Hi'\r\n    },\r\n    {\r\n      id: '2',\r\n      message: 'How are you doing?'\r\n    },\r\n    {\r\n      id: '3',\r\n      message: 'Hello!!!'\r\n    }\r\n  ],\r\n  dialogs: [\r\n    {\r\n      id: '1',\r\n      name: 'Igor',\r\n      photo: 'http://mythemestore.com/friend-finder/images/users/user-4.jpg'\r\n    },\r\n    {\r\n      id: '2',\r\n      name: 'Olga',\r\n      photo: 'http://mythemestore.com/friend-finder/images/users/user-2.jpg'\r\n    },\r\n    {\r\n      id: '3',\r\n      name: 'Maksym',\r\n      photo: 'http://mythemestore.com/friend-finder/images/users/user-8.jpg'\r\n    }\r\n  ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      const newMessage = {\r\n        id: 4,\r\n        message: action.message\r\n      };\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, newMessage]\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addMessage = message => ({ type: ADD_MESSAGE, message });\r\n\r\nexport default dialogsReducer;\r\n","import { usersAPI } from '../api/social-network-API';\r\n\r\nconst FOLLOW = '/users/FOLLOW';\r\nconst UNFOLLOW = '/users/UNFOLLOW';\r\nconst SET_USERS = '/users/SET_USERS';\r\nconst SET_TOTAL_COUNT_PAGES = '/users/SET_TOTAL_COUNT_PAGES';\r\nconst SET_CURRENT_PAGE = '/users/SET_CURRENT_PAGE';\r\nconst SET_IS_LOADING = '/users/SET_IS_LOADING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = '/users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\nconst SET_PORTION = '/users/SET_PORTION';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  portion: 1,\r\n  totalCount: 0,\r\n  pageSize: 10,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          if (user.id === action.userId) {\r\n            return {\r\n              ...user,\r\n              followed: true\r\n            };\r\n          }\r\n          return user;\r\n        })\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          if (user.id === action.userId) {\r\n            return {\r\n              ...user,\r\n              followed: false\r\n            };\r\n          }\r\n          return user;\r\n        })\r\n      };\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users]\r\n      };\r\n\r\n    case SET_TOTAL_COUNT_PAGES:\r\n      return {\r\n        ...state,\r\n        totalCount: action.pages\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.page\r\n      };\r\n\r\n    case SET_PORTION:\r\n      return {\r\n        ...state,\r\n        portion: action.portion\r\n      };\r\n\r\n    case SET_IS_LOADING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      };\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const follow = userId => ({ type: FOLLOW, userId });\r\nexport const unfollow = userId => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = users => ({ type: SET_USERS, users });\r\nexport const setTotalCountPages = pages => ({\r\n  type: SET_TOTAL_COUNT_PAGES,\r\n  pages\r\n});\r\nexport const setCurrentPage = page => ({ type: SET_CURRENT_PAGE, page });\r\n\r\nexport const setPortion = portion => ({ type: SET_PORTION, portion });\r\nexport const setIsLoading = isFetching => ({\r\n  type: SET_IS_LOADING,\r\n  isFetching\r\n});\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n});\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n  return async dispatch => {\r\n    dispatch(setIsLoading(true));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setIsLoading(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCountPages(data.totalCount));\r\n    dispatch(setCurrentPage(currentPage));\r\n    //dispatch(setPortion(portion));\r\n  };\r\n};\r\n\r\nexport const followUser = id => {\r\n  return async dispatch => {\r\n    dispatch(toggleFollowingProgress(true, id));\r\n    const data = await usersAPI.followUser(id);\r\n    if (data.resultCode === 0) {\r\n      dispatch(follow(id));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, id));\r\n  };\r\n};\r\n\r\nexport const unfollowUser = id => {\r\n  return async dispatch => {\r\n    dispatch(toggleFollowingProgress(true, id));\r\n    const data = await usersAPI.unfollowUser(id);\r\n    if (data.resultCode === 0) {\r\n      dispatch(unfollow(id));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, id));\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    'API-KEY': 'a68c4b68-6d08-42c8-8761-c3e9204831f4'\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(res => res.data);\r\n  },\r\n\r\n  authMe() {\r\n    return instance.get('auth/me').then(res => res.data);\r\n  },\r\n\r\n  getProfile(id) {\r\n    return instance.get(`profile/${id}`);\r\n  },\r\n\r\n  unfollowUser(id) {\r\n    return instance.delete(`follow/${id}`).then(res => res.data);\r\n  },\r\n\r\n  followUser(id) {\r\n    return instance.post(`follow/${id}`).then(res => res.data);\r\n  },\r\n\r\n  getStatus(id) {\r\n    return instance.get(`profile/status/${id}`).then(res => res.data);\r\n  },\r\n\r\n  uploadPhoto(photo) {\r\n    const formData = new FormData();\r\n    formData.append('image', photo);\r\n\r\n    return instance\r\n      .put(`profile/photo`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n      .then(res => res.data);\r\n  },\r\n\r\n  updateStatus(text) {\r\n    return instance\r\n      .put(`profile/status`, { status: text })\r\n      .then(res => res.data);\r\n  },\r\n\r\n  updateProfile(profile) {\r\n    return instance.put(`profile`, profile).then(res => res.data);\r\n  }\r\n};\r\nexport const authAPI = {\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance\r\n      .post(`auth/login`, { email, password, rememberMe, captcha })\r\n      .then(res => res.data);\r\n  },\r\n\r\n  logOut() {\r\n    return instance.delete(`auth/login`).then(res => res.data);\r\n  }\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCaptcha() {\r\n    return instance.get('security/get-captcha-url').then(res => res.data);\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"friends_friends__3HafX\"};"],"sourceRoot":""}